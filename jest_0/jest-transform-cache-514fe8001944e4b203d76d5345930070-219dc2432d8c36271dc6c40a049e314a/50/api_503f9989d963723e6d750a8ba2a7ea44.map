{"version":3,"sources":["api.js"],"names":["client","axios","create","baseURL","json","execute","method","resource","data","Vue","prototype","$auth","getAccessToken","accessToken","console","log","url","headers","Authorization","then","req","getPosts","getPost","id","createPost","updatePost","deletePost"],"mappings":"2UAAA,0B;AACA,8B;;AAEA,IAAMA,SAASC,gBAAMC,MAAN,CAAa;AAC1BC,WAAS,wBADiB;AAE1BC,QAAM,IAFoB,EAAb,CAAf,C;;;AAKe;AACPC,SADO,mBACEC,MADF,EACUC,QADV,EACoBC,IADpB,EAC0B;;AAEbC,8BAAIC,SAAJ,CAAcC,KAAd,CAAoBC,cAApB,EAFa,SAEjCC,WAFiC;AAGrCC,sBAAQC,GAAR,CAAYF,WAAZ,EAHqC;AAI9Bb,qBAAO;AACZM,8BADY;AAEZU,qBAAKT,QAFO;AAGZC,0BAHY;AAIZS,yBAAS;AACPC,6CAAyBL,WADlB,EAJG,EAAP;;AAOJM,kBAPI,CAOC,eAAO;AACb,uBAAOC,IAAIZ,IAAX;AACD,eATM,CAJ8B;AActC,GAfY;AAgBba,UAhBa,sBAgBD;AACV,WAAO,KAAKhB,OAAL,CAAa,KAAb,EAAoB,QAApB,CAAP;AACD,GAlBY;AAmBbiB,SAnBa,mBAmBJC,EAnBI,EAmBA;AACX,WAAO,KAAKlB,OAAL,CAAa,KAAb,cAA8BkB,EAA9B,CAAP;AACD,GArBY;AAsBbC,YAtBa,sBAsBDhB,IAtBC,EAsBK;AAChB,WAAO,KAAKH,OAAL,CAAa,MAAb,EAAqB,QAArB,EAA+BG,IAA/B,CAAP;AACD,GAxBY;AAyBbiB,YAzBa,sBAyBDF,EAzBC,EAyBGf,IAzBH,EAyBS;AACpB,WAAO,KAAKH,OAAL,CAAa,KAAb,cAA8BkB,EAA9B,EAAoCf,IAApC,CAAP;AACD,GA3BY;AA4BbkB,YA5Ba,sBA4BDH,EA5BC,EA4BG;AACd,WAAO,KAAKlB,OAAL,CAAa,QAAb,cAAiCkB,EAAjC,CAAP;AACD,GA9BY,E","file":"api.js","sourcesContent":["import Vue from 'vue'\nimport axios from 'axios'\n\nconst client = axios.create({\n  baseURL: 'http://localhost:8081/',\n  json: true\n})\n\nexport default {\n  async execute (method, resource, data) {\n    // inject the accessToken for each request\n    let accessToken = await Vue.prototype.$auth.getAccessToken()\n    console.log(accessToken);\n    return client({\n      method,\n      url: resource,\n      data,\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(req => {\n      return req.data\n    })\n  },\n  getPosts () {\n    return this.execute('get', '/posts')\n  },\n  getPost (id) {\n    return this.execute('get', `/posts/${id}`)\n  },\n  createPost (data) {\n    return this.execute('post', '/posts', data)\n  },\n  updatePost (id, data) {\n    return this.execute('put', `/posts/${id}`, data)\n  },\n  deletePost (id) {\n    return this.execute('delete', `/posts/${id}`)\n  }\n}"]}